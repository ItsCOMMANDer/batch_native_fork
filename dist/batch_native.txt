============================================
                Batch native
============================================

Written by MousieDev & Kenan238
Last update: 30th of April, 2023

=== Table of contents ===
=> Features
=> New environment variables
=> Example set-up
=> Notes
=> System requirements
=> Credits
=> License

=== Features ===
- Fast
- Mouse and keyboard polling
 - Multiple keys down at once support
- Discord RPC
- Easy to setup in existing or new projects
- Small size (depends on chosen modules)

=== New environment variables ===
-- GetInput --
(o) keyspressed*: is formatted like this: -keycode1-keycode2-keycode3-
(o) click: left=1,right=2
(o) wheeldelta: up=-1,down=1 ; reset this manually once you process
(o) mousexpos: - measured in cells
(o) mouseypos: - measured in cells
(i) noresize: 1 to disable resizing
(i) rasterx:  - optional: turn on the raster font and set its size to x and y
(i) rastery:  /
(i) limitMouseX: limit the x range of mouse, unsets mousexpos if out of range (range is 0-limitMouseX; inclusive)
(i) limitMouseY: limit the y range of mouse, unsets mouseypos if out of range (range is 0-limitMouseY; inclusive)

All input variables are *optional* and must be set before injecting.

*    uses virtual key codes, not characters (raw input), keycode reference: https://learn.microsoft.com/en-us/windows/win32/inputdev/virtual-key-codes; that means keyboard layouts do not matter, the physical location of keys is considered

-- DiscordRpc ---
(i)  discordappid - your own app id (created on the discord developer portal)
(io) discordupdate - set this to anything when updating the rpc; gets nulled on update
(i)  discordstate - state (for example "Editing main.c")
(i)  discorddetails - details (for example "Line 50; column 100")
(i)  discordlargeimg - name of the asset that gets used as the large image
(i)  discordlargeimgtxt - text when user mouses over the large image
(i)  discordsmallimg - name of the asset that gets used as the small image
(i)  discordsmallimgtxt - text when user mouses over the small image

i=in,o=out

=== Example setup ===
-- GetInput --
set /a mousexpos=mouseypos=keyspressed=click=wheeldelta=0 & :: Reset the variables
set /a rasterx=8,rastery=8 & :: Optional: set 8x8 raster font
inject getinput.dll

:: Then you can use all the variables GetInput module provides:
echo !mousexpos! !mouseypos! !wheeldelta!...

-- Discord RPC --
set /a discordappid=0000000000000000000 &:: fill in your own obviously
set discordstate=Hello world
set discorddetails=Test
set discordlargeimg=big-img
set discordlargeimgtxt=Large image text
set discordsmallimg=small-img
set discordsmallimgtxt=Small image Test
inject discordrpc.dll

=== Notes ===
The ".dll" files distributed to you aren't actual .dll's.
They are compressed DLLs and get unpacked transparently, entirely in memory within the injector. So do not try
injecting them manually through ProcessExplorer or stuff like this, it won't work.
Also do not try injecting plain DLL files through the injector.
Even if they would be uncompressed (which shouldn't really happen), they still have their own custom header.

-- Injector --
Return values:
  - Parent process isn't cmd.exe: -2*
  - Cannot get parent process: -3
  - File doesn't exist: -4
  - Cannot open file: -5
  - File is empty: -6
  - Cannot read file: -7
  - Cannot allocate: -8
  - Cannot free: -9
  - Cannot decompress: -10
  - Cannot inject: -11
  - Cannot write process memory: -12
  - Cannot allocate process memory: -13
  - Cannot free process memory: -14
  - Cannot open parent process: -15
  - Cannot open heap: -15
  - Cannot get parent process path: -16
  - Invalid file: -17
  - Some random fuckup/crash: Literally any other value

*also makes messagebox telling you

Injector command line:
  inject [-force] filename.dll

Force switch turns off error checking for cmd.exe being parent process.

=== Minimum system requirements ===
OS:  Windows Vista x64
CPU: SSE4.1 support

=== Credits ===
Kenan238  - original getinput.exe
MousieDev - extensive rewrite, making it a dll, main maintainer

=== License ===
Copyright (C) 2021-2023 batch_native authors.  All rights reserved.

Do whatever with it as long as your forks are public. Making an pull request
to the original repo would be appreciated.

We do reserve the right to alter this document at any time without any prior
notice. You may not alter this statement.
